# BFC应用

### 什么是BFC？

BFC（Block Formatting Context）翻译过来就是块格式化上下文

MDN是这么解释的： 
一个块格式化上下文是Web页面的可视化CSS渲染出的一部分。他是块级盒布局出现的区域，**也是浮动层元素进行交互的区域**。一个块级格式化上下文由一下之一创建：

1. 根元素或其它包含它的元素
2. 浮动元素（元素的float不是none）
3. 绝对定位元素（元素具有position 为 absolute 或 fixed）
4. 内联块（元素具有display： inline-block）
5. 表格单元格 (元素具有 display: table-cell，HTML表格单元格默认属性)
6. 表格标题 (元素具有 display: table-caption, HTML表格标题默认属性)
7. 具有overflow 且值不是 visible 的块元素，
8. display: flow-root
9. column-span: all 应当总是会创建一个新的格式化上下文 
10. column-span: all 的元素并不被包裹在一个多列容器中。
11. 一个块格式化上下文**包括创建它的元素内部所有内容**

块格式化上下文对浮动定位（参见 float）与清除浮动（参见 clear）都很重要。浮动定位和清除浮动时只会应用于同一个BFC内的元素。浮动不会影响其它BFC中元素的布局，而清除浮动只能清除同一BFC中在它前面的元素的浮动。外边距折叠（Margin collapsing）也只会发生在属于同一BFC的块级元素之间。


### BFC应用

1.子元素浮动父元素塌陷

我们常常遇到子元素浮动了，导致父元素高度塌陷，这种情况就是子元素浮动成了一个BFC，只需要将父元素也设置成bfc就好，常用的就是overflow:hidden.
当然还有display: inline-block;position: absolute;position:fixed;
这样父容器就不会塌陷了。

如果子元素有多个元素，一个元素浮动了或者把父元素变成BFC了会不会影响布局呢？
当然不会，因为一个块格式化上下文**包括创建它的元素内部所有内容**，父元素变成快格式化上下文子元素全都会变。

2. margin上下边距合并

为什么这里只提到了上下边距而没有提到左右边距，因为两个元素要同行展示就得用到浮动或者inline-block,而且必须得是块级元素，所以只要两个元素具备了左右边距也具备了同行展示，不会发生边距合并的情况。

上下边距合并是指上面的元素的margin-bottom和下面元素的margin-top合并
合并还有规则：

1. 正正取大
2. 负负取大
3. 负正取和

解决边距合并的办法就是把相邻元素设置成bfc就可以了，方法前文已经提到

3. 实践，多列自适应等高布局（本文件夹有例子）

利用bfc 子元素浮动 + padding + margin负值可以实现多列布局中的一列或者多列，跟随某一列高度自动增加或减少。
